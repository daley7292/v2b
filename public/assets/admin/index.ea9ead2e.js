import{v as E,a as U,b as z,G as M,S as O,A as T,s as j,c as H,L as J,_ as K}from"./index.66251433.js";/* empty css              *//* empty css               *//* empty css               *//* empty css               *//* empty css              *//* empty css               */import{d as P,r as W,f as X,o as $,b2 as Q,aX as Y,as as Z,a0 as ee,b4 as oe,b5 as te,b6 as ae,D as b,aI as e,aH as o,F as se,C as p,G as d,aN as c,u as l,aE as re,aM as u,aF as le,aK as ie,aJ as ne,aW as de,b7 as ce,b8 as _e,b9 as ue,ba as me,bb as pe,be as fe}from"./arco.d070d3bc.js";import{f as ge,g as ve}from"./vue.02dbc53f.js";import{G as he,a as ye}from"./comm-config.3cd00c2d.js";import"./chart.dd5d83bb.js";const be={class:"container"},we={style:{"text-align":"center","margin-bottom":"20px"}},xe={style:{opacity:"0.7"}},ke={style:{width:"30px",position:"absolute","font-size":"17px",color:"#165DFF",right:"65px",bottom:"30px"}},Ve={ref:"triggerBtn",style:{display:"flex",float:"left",cursor:"pointer"},class:"trigger-btn"},Ce=P({__name:"index",setup(Se){const{t}=E.exports.useI18n(),w=ge(),f=ve(),s=W({email:void 0,password:void 0,password_check:void 0,invite_code:w.query.code,email_code:void 0}),x={email:[{type:"email",required:!0,message:t("register.form.verify.email")}],email_code:[{required:!0,message:t("register.form.verify.email_code")}],password:[{required:!0,message:t("register.form.verify.password")}],password_check:[{required:!0,message:t("register.form.verify.password_check")},{validator:(_,a)=>{_!==s.password?a(t("register.form.verify.password_not_match")):a()}}]},k=async({values:_,errors:a})=>{console.log(s),T(s).then(i=>{var n;i.data&&(de.success(t("register.form.success")),(n=i.data)!=null&&n.auth_data&&(j(i.data.auth_data),H(i.data.is_admin),f.push("/").then(()=>{location.reload()})))})},V=()=>{f.push("/login")},{changeLocale:C,currentLocale:S}=U(),F=[...J],m=X(),I=()=>{M().then(_=>{m.value=_.data})};return $(()=>{I()}),(_,a)=>{var h;const i=Q,n=ce,g=Y,A=Z,v=_e,L=z,D=ee,N=fe,q=oe,B=ue,G=te,R=ae;return p(),b("div",be,[e(R,{class:"register-card",style:se(((h=m.value)==null?void 0:h.is_email_verify)==1?"height: 520px;":"")},{default:o(()=>[d("div",we,[d("h1",null,c(l(he)()),1),d("div",xe,c(l(ye)()),1)]),e(G,{layout:"vertical",ref:"registerForm",rules:x,model:s,onSubmitSuccess:k},{default:o(()=>{var y;return[e(n,{field:"email","hide-asterisk":""},{default:o(()=>[e(i,{modelValue:s.email,"onUpdate:modelValue":a[0]||(a[0]=r=>s.email=r),placeholder:l(t)("register.form.email")},null,8,["modelValue","placeholder"])]),_:1}),((y=m.value)==null?void 0:y.is_email_verify)==1?(p(),re(n,{key:0,field:"email_code","hide-asterisk":""},{default:o(()=>[e(i,{placeholder:l(t)("register.form.email_code")},null,8,["placeholder"]),u(" \xA0"),e(g,{onClick:a[1]||(a[1]=r=>l(O)({email:s.email})),type:"primary"},{default:o(()=>[u("\xA0\u53D1\u9001\xA0")]),_:1})]),_:1})):le("",!0),e(n,{field:"password","hide-asterisk":""},{default:o(()=>[e(i,{modelValue:s.password,"onUpdate:modelValue":a[2]||(a[2]=r=>s.password=r),placeholder:l(t)("register.form.password")},null,8,["modelValue","placeholder"])]),_:1}),e(n,{field:"password_check","hide-asterisk":""},{default:o(()=>[e(i,{modelValue:s.password_check,"onUpdate:modelValue":a[3]||(a[3]=r=>s.password_check=r),placeholder:l(t)("register.form.password")},null,8,["modelValue","placeholder"])]),_:1}),e(n,{field:"invite_code"},{default:o(()=>[e(i,{modelValue:s.invite_code,"onUpdate:modelValue":a[4]||(a[4]=r=>s.invite_code=r),placeholder:l(t)("register.form.invite_code")},null,8,["modelValue","placeholder"])]),_:1}),e(n,null,{default:o(()=>[e(g,{"html-type":"submit",style:{width:"100%"},type:"primary"},{default:o(()=>[e(A,{size:"16"}),u(" \xA0 "+c(l(t)("register.form.submit")),1)]),_:1})]),_:1}),e(n,null,{default:o(()=>[e(B,{style:{width:"100%","padding-bottom":"25px"}},{default:o(()=>[e(v,{span:12},{default:o(()=>[d("span",{style:{cursor:"pointer"},onClick:V},c(l(t)("register.form.back_to_login")),1)]),_:1}),e(v,{span:12,style:{"text-align":"right"}},{default:o(()=>[d("span",ke,[e(q,{trigger:"click",onSelect:l(C)},{content:o(()=>[(p(),b(ie,null,ne(F,r=>e(N,{key:r.value,value:r.value},{icon:o(()=>[me(e(D,null,null,512),[[pe,r.value===l(S)]])]),default:o(()=>[u(" "+c(r.label),1)]),_:2},1032,["value"])),64))]),default:o(()=>[d("div",Ve,[e(L)],512)]),_:1},8,["onSelect"])]),u(" "+c(l(t)("language")),1)]),_:1})]),_:1})]),_:1})]}),_:1},8,["model"])]),_:1},8,["style"])])}}});const Ue=K(Ce,[["__scopeId","data-v-bd9e5ab2"]]);export{Ue as default};
