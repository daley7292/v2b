import{E as w,k as Q,F as S,_ as $}from"./index.66251433.js";/* empty css               *//* empty css               *//* empty css               */import{d as z,f as l,o as A,C as r,D as u,aI as t,aH as a,aM as b,G as e,aN as d,aK as K,aJ as R,u as C,ba as V,bx as j,by as q,bz as H,aY as G,b8 as J,b3 as L,b9 as Y,bc as O,bd as P}from"./arco.d070d3bc.js";import{f as W}from"./vue.02dbc53f.js";import{n as X,Q as Z,R as ee}from"./ticket.9e7134ae.js";import{U as te,_ as se}from"./user-network-form.fa5a40cb.js";import{Q as oe}from"./user.b9a30675.js";import"./chart.dd5d83bb.js";/* empty css               *//* empty css               *//* empty css              *//* empty css              *//* empty css              */import"./subscription.960a242a.js";/* empty css                *//* empty css              *//* empty css              *//* empty css               */import"./loading.50473042.js";const g=c=>(O("data-v-10fe739f"),c=c(),P(),c),ae={key:0,style:{"text-align":"left"}},ne={class:"message-container-left"},ie={class:"message-time",style:{"margin-left":"12px"}},le={class:"message-content message-container-left-content"},re=g(()=>e("div",{class:"message-block"},null,-1)),ue=g(()=>e("div",{style:{clear:"both"}},null,-1)),de={key:1,style:{"text-align":"right",position:"relative"}},ce={class:"message-container-right"},pe={class:"message-time",style:{"margin-right":"18px"}},_e={class:"message-content-right message-container-right-content"},me=g(()=>e("div",{style:{clear:"both"}},null,-1)),fe={class:"message-input"},ve=["onKeyup"],ge={name:"TicketChat"},he=z({...ge,setup(c){const T=W(),n=l(X),m=async()=>{const{data:_}=await Z({id:T.query.id});n.value=_,document.title=n.value.subject},h=async()=>{n.value.status===0&&setTimeout(()=>{m(),h()},3e3)},f=l(!1),p=l(!1),y=l(),D=()=>{oe({id:n.value.user_id}).then(_=>{p.value=!0,y.value=_.data})},i=l(""),F=()=>{i.value&&ee({id:n.value.id,message:i.value}).then(()=>{i.value="",m(),x()})},x=()=>{setTimeout(()=>{window.scrollTo(0,document.documentElement.scrollHeight)},500)};return A(()=>{m(),x(),h()}),(_,o)=>{const B=H,I=G,v=J,U=Q,M=S,N=L,k=Y;return r(),u("div",null,[t(B,{width:530,visible:f.value,footer:!1,"unmount-on-close":!0,onCancel:o[0]||(o[0]=s=>f.value=!1)},{title:a(()=>[b(" \u6D41\u91CF\u8BB0\u5F55 ")]),default:a(()=>[t(te,{userid:n.value.user_id},null,8,["userid"])]),_:1},8,["visible"]),t(I,{width:420,visible:p.value,onCancel:o[2]||(o[2]=s=>p.value=!1),"unmount-on-close":!0,footer:!1},{title:a(()=>[b(" \u7F16\u8F91\u7528\u6237 ")]),default:a(()=>[t(se,{data:y.value,onClose:o[1]||(o[1]=s=>p.value=!1)},null,8,["data"])]),_:1},8,["visible"]),t(k,{style:{position:"fixed","z-index":"999",width:"100%","background-color":"#f8f9fa!important","font-size":"18px","line-height":"60px","font-weight":"normal",padding:"5px 20px"}},{default:a(()=>[t(v,{span:12,style:{"text-align":"left","line-height":"60px"}},{default:a(()=>[e("div",null,d(n.value.subject),1)]),_:1}),t(v,{span:12,style:{"text-align":"right"}},{default:a(()=>[t(N,{style:{"font-size":"22px","font-weight":"normal","line-height":"52px"}},{default:a(()=>[e("span",{onClick:D},[t(U)]),e("span",{onClick:o[3]||(o[3]=s=>f.value=!0)},[t(M)])]),_:1})]),_:1})]),_:1}),t(k,{style:{padding:"60px 0 100px 0"}},{default:a(()=>[t(v,null,{default:a(()=>[e("div",null,[(r(!0),u(K,null,R(n.value.message,(s,E)=>(r(),u("div",{key:E,style:{width:"100%","line-height":"26px",position:"relative"}},[s.user_id===n.value.user_id?(r(),u("div",ae,[e("div",ne,[e("div",ie,d(C(w)(s.created_at)),1),e("div",le,d(s.message),1),re]),ue])):(r(),u("div",de,[e("div",ce,[e("div",pe," \xA0\xA0\xA0\xA0"+d(C(w)(s.created_at)),1),e("div",_e,d(s.message),1)]),me]))]))),128))])]),_:1})]),_:1}),e("div",fe,[V(e("input",{type:"text",class:"input",placeholder:"\u8F93\u5165\u5185\u5BB9\u56DE\u590D\u5DE5\u5355...","onUpdate:modelValue":o[4]||(o[4]=s=>i.value=s),onKeyup:q(F,["enter"])},null,40,ve),[[j,i.value]])])])}}});const Re=$(he,[["__scopeId","data-v-10fe739f"]]);export{Re as default};
