import{v as N,E as z,H as M,K as R,_ as G}from"./index.66251433.js";/* empty css               *//* empty css               *//* empty css               *//* empty css               *//* empty css              *//* empty css              *//* empty css              */import{d as S,f as v,r as I,C as x,D as F,aI as l,aH as a,u as d,aM as s,aK as P,aJ as H,aN as b,G as y,b2 as K,b7 as L,b8 as Q,b9 as $,bA as q,bB as j,bC as J,aV as O,bD as X,aX as W,b3 as Z,b5 as ee,c as le,bE as ae}from"./arco.d070d3bc.js";import{Q as oe}from"./subscription.960a242a.js";import{U as te,a as ue}from"./user.b9a30675.js";/* empty css                *//* empty css              *//* empty css              *//* empty css               */import{u as de}from"./loading.50473042.js";const ne={style:{width:"100%","text-align":"center"}},De=S({__name:"user-edit-form",props:["data"],emits:["close"],setup(U,{emit:w}){const B=U,{t:u}=N.exports.useI18n(),c=v([]),V=()=>w("close"),e=I(B.data);e.balance=(e.balance/100).toFixed(2),e.u=e.u/1024/1024/1024,e.d=e.d/1024/1024/1024,e.transfer_enable=e.transfer_enable/1024/1024/1024,e.plan_id=e.plan_id==null?"":e.plan_id,e.password=void 0,e.expired_at=e.expired_at>0?z(e.expired_at):"",(e.plan_id===null||e.plan_id===0||e.plan_id==="0")&&(e.plan_id="");const T=()=>{let r={...e};r.u=e.u*1024*1024*1024,r.d=e.d*1024*1024*1024,r.transfer_enable=e.transfer_enable*1024*1024*1024,r.expired_at?r.expired_at=M(r.expired_at):r.expired_at="",r.balance&&(r.balance=r.balance*100),te(r).then(()=>{V()})};return(()=>{oe().then(r=>{c.value=r.data})})(),(r,o)=>{const _=K,n=L,m=Q,f=$,p=q,i=j,k=J,g=O,C=X,E=W,A=Z,Y=ee;return x(),F("div",null,[l(Y,{layout:"vertical",ref:"user",model:e,onSubmit:T},{default:a(()=>[l(n,{field:"email",":label":d(u)("userTable.form.email")},{default:a(()=>[l(_,{modelValue:e.email,"onUpdate:modelValue":o[0]||(o[0]=t=>e.email=t),placeholder:d(u)("userTable.form.please_input_your_email")},null,8,["modelValue","placeholder"])]),_:1},8,[":label"]),l(n,{field:"invite_user_email",label:d(u)("")},{default:a(()=>[l(_,{modelValue:e.invite_user_email,"onUpdate:modelValue":o[1]||(o[1]=t=>e.invite_user_email=t),placeholder:d(u)("userTable.form.please_enter_the_inviters_email_address")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(n,{field:"password",label:d(u)("userTable.form.password")},{default:a(()=>[l(_,{modelValue:e.password,"onUpdate:modelValue":o[2]||(o[2]=t=>e.password=t),placeholder:d(u)("userTable.form.Please_enter_to_change_password")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(f,null,{default:a(()=>[l(m,{span:11},{default:a(()=>[l(n,{field:"balance",label:d(u)("userTable.form.balance")},{default:a(()=>[l(_,{modelValue:e.balance,"onUpdate:modelValue":o[3]||(o[3]=t=>e.balance=t),placeholder:"\u4F59\u989D"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1}),l(m,{span:12,offset:1},{default:a(()=>[l(n,{field:"commission_balance",label:d(u)("userTable.form.Promotional_commission")},{default:a(()=>[l(_,{modelValue:e.commission_balance,"onUpdate:modelValue":o[4]||(o[4]=t=>e.commission_balance=t),placeholder:"\u63A8\u5E7F\u4F63\u91D1"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1}),l(m,{span:11},{default:a(()=>[l(n,{field:"balance",label:d(u)("userTable.form.used_Up")},{default:a(()=>[l(_,{modelValue:e.u,"onUpdate:modelValue":o[5]||(o[5]=t=>e.u=t),placeholder:"\u5DF2\u7528\u4E0A\u884C"},{append:a(()=>[s(" GB ")]),_:1},8,["modelValue"])]),_:1},8,["label"])]),_:1}),l(m,{span:12,offset:1},{default:a(()=>[l(n,{field:"commission_balance",label:d(u)("userTable.form.Used_down")},{default:a(()=>[l(_,{modelValue:e.d,"onUpdate:modelValue":o[6]||(o[6]=t=>e.d=t),placeholder:"\u5DF2\u7528\u4E0B\u884C"},{append:a(()=>[s(" GB ")]),_:1},8,["modelValue"])]),_:1},8,["label"])]),_:1})]),_:1}),l(n,{field:"commission_balance",label:d(u)("userTable.form.flow")},{default:a(()=>[l(_,{modelValue:e.transfer_enable,"onUpdate:modelValue":o[7]||(o[7]=t=>e.transfer_enable=t),placeholder:"\u6D41\u91CF"},{append:a(()=>[s(" GB ")]),_:1},8,["modelValue"])]),_:1},8,["label"]),l(n,{field:"expired_at",label:d(u)("userTable.form.Expire_date")},{default:a(()=>[l(p,{modelValue:e.expired_at,"onUpdate:modelValue":o[8]||(o[8]=t=>e.expired_at=t),placeholder:"\u5230\u671F\u65F6\u95F4","show-time":"",format:"YYYY-MM-DD HH:mm:ss"},null,8,["modelValue"])]),_:1},8,["label"]),l(n,{field:"plan_id",label:d(u)("userTable.form.Subscription_plan")},{default:a(()=>[l(k,{modelValue:e.plan_id,"onUpdate:modelValue":o[9]||(o[9]=t=>e.plan_id=t)},{default:a(()=>[l(i,{value:""},{default:a(()=>[s("\u6682\u65E0")]),_:1}),(x(!0),F(P,null,H(c.value,(t,h)=>(x(),F("div",{key:h},[l(i,{value:t.id},{default:a(()=>[s(b(t.name),1)]),_:2},1032,["value"])]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"]),l(n,{field:"banned",label:d(u)("userTable.form.Account_Status")},{default:a(()=>[l(k,{modelValue:e.banned,"onUpdate:modelValue":o[10]||(o[10]=t=>e.banned=t),placeholder:"\u8D26\u6237\u72B6\u6001"},{default:a(()=>[l(i,{value:0},{default:a(()=>[s(b(d(u)("userTable.form.normal")),1)]),_:1}),l(i,{value:1},{default:a(()=>[s(b(d(u)("userTable.form.ban")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"]),l(n,{field:"commission_type",label:d(u)("userTable.form.Recommended_rebate_types")},{default:a(()=>[l(k,{modelValue:e.commission_type,"onUpdate:modelValue":o[11]||(o[11]=t=>e.commission_type=t),placeholder:"\u63A8\u8350\u8FD4\u5229\u7C7B\u578B"},{default:a(()=>[l(i,{value:0},{default:a(()=>[s("\u8DDF\u968F\u7CFB\u7EDF\u8BBE\u7F6E")]),_:1}),l(i,{value:1},{default:a(()=>[s("\u5FAA\u73AF\u8FD4\u5229")]),_:1}),l(i,{value:2},{default:a(()=>[s("\u9996\u6B21\u8FD4\u5229")]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"]),l(n,{field:"commission_rate",label:d(u)("userTable.form.Recommended_rebate_ratio")},{default:a(()=>[l(_,{modelValue:e.commission_rate,"onUpdate:modelValue":o[12]||(o[12]=t=>e.commission_rate=t),placeholder:"\u63A8\u8350\u8FD4\u5229\u6BD4\u4F8B"},{append:a(()=>[s(" % ")]),_:1},8,["modelValue"])]),_:1},8,["label"]),l(n,{field:"plan_id",label:d(u)("userTable.form.Exclusive_discount_ratio")},{default:a(()=>[l(_,{modelValue:e.plan_id,"onUpdate:modelValue":o[13]||(o[13]=t=>e.plan_id=t),placeholder:"\u4E13\u4EAB\u6298\u6263\u6BD4\u4F8B"},{append:a(()=>[s(" % ")]),_:1},8,["modelValue"])]),_:1},8,["label"]),l(n,{field:"plan_id",label:d(u)("userTable.form.speed_limit")},{default:a(()=>[l(_,{modelValue:e.speed_limit,"onUpdate:modelValue":o[14]||(o[14]=t=>e.speed_limit=t),placeholder:d(u)("userTable.form.speed_limit")},{append:a(()=>[s(" % ")]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"]),l(n,{field:"is_admin",label:d(u)("userTable.form.Is_it_an_administrator")},{default:a(()=>[l(g,{modelValue:e.is_admin,"onUpdate:modelValue":o[15]||(o[15]=t=>e.is_admin=t),"checked-value":1,"unchecked-value":0},null,8,["modelValue"])]),_:1},8,["label"]),l(n,{field:"is_staff",label:d(u)("userTable.form.Is_it_an_employee")},{default:a(()=>[l(g,{modelValue:e.is_staff,"onUpdate:modelValue":o[16]||(o[16]=t=>e.is_staff=t),"checked-value":1,"unchecked-value":0},null,8,["modelValue"])]),_:1},8,["label"]),l(n,{field:"remarks",label:d(u)("userTable.form.Remark")},{default:a(()=>[l(C,{modelValue:e.remarks,"onUpdate:modelValue":o[17]||(o[17]=t=>e.remarks=t),placeholder:d(u)("userTable.form.Remark")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(n,null,{default:a(()=>[y("div",ne,[l(A,null,{default:a(()=>[l(E,{type:"dashed",onClick:V},{default:a(()=>[s(b(d(u)("userTable.form.cancel")),1)]),_:1}),l(E,{type:"primary","html-type":"submit"},{default:a(()=>[s(b(d(u)("userTable.form.submit")),1)]),_:1})]),_:1})])]),_:1})]),_:1},8,["model"])])}}}),re=S({__name:"user-network-form",props:["userid"],setup(U){const w=U,{loading:B,setLoading:u}=de(!0),{t:c}=N.exports.useI18n(),V=v([]);v([]),v([]);const e=v("medium"),T=m=>{const f=["B","KB","MB","GB"];let p=0;for(;m>=1024&&p<f.length-1;)m/=1024,p++;return`${m.toFixed(2)} ${f[p]?f[p].toFixed(2):"0"}`},D={current:1,pageSize:100},r=I({...D}),o=le(()=>[{title:c("userNetworkTable.columns.record_at"),dataIndex:"record_at",slotName:"record_at"},{title:c("userNetworkTable.columns.u"),dataIndex:"u",slotName:"u"},{title:c("userNetworkTable.columns.d"),dataIndex:"d",slotName:"d"},{title:c("userNetworkTable.columns.server_rate"),dataIndex:"server_rate",slotName:"server_rate"}]),_=async(m={current:1,pageSize:10})=>{u(!0);try{m.user_id=w.userid;const{data:f,total:p}=await ue(m);V.value=f,r.current=m.current,r.total=p}catch{}finally{u(!1)}},n=m=>{_({...D,current:m})};return _(),(m,f)=>{const p=ae;return x(),F("div",null,[l(p,{"row-key":"id",loading:d(B),pagination:r,columns:o.value,data:V.value,bordered:!1,size:e.value,onPageChange:n},{index:a(({rowIndex:i})=>[s(b(i+1+(r.current-1)*r.pageSize),1)]),record_at:a(({record:i})=>[s(b(d(R)(i.record_at)),1)]),u:a(({record:i})=>[y("span",null,b(T(i.u)),1)]),d:a(({record:i})=>[y("span",null,b(T(i.d)),1)]),_:1},8,["loading","pagination","columns","data","size"])])}}});const ke=G(re,[["__scopeId","data-v-5017c404"]]);export{ke as U,De as _};
